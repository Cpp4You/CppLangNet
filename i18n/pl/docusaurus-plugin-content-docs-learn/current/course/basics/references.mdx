---
sidebar_position:	11
sidebar_label:		"11. Referencje ğŸš§"
title:				Referencje
description:		"Lekcja: podstawy referencji w jÄ™zyku C++"
tags:				[referencje, wskaÅºnik, pamiÄ™Ä‡]
hide_title:			true
---

import NotFinished from '@site/i18n/pl/presets/NotFinished.mdx';

<NotFinished/>

# Referencje

W tej lekcji pokaÅ¼Ä™ Ci, w jaki sposÃ³b moÅ¼esz poÅ›rednio odwoÅ‚ywaÄ‡ siÄ™ do zmiennych poprzez referencje.

## Motywacja 

WyobraÅº sobie, Å¼e chcesz napisaÄ‡ funkcjÄ™, ktÃ³ra podwaja przekazany jej argument.
<Columns columns={['8fr', '4fr']}>
<div>

```cpp
#include <iostream>

void doubleNumber(int num) 
{
    num = num * 2;
}

int main()
{
    int x = 5;
    doubleNumber(x); 
    std::cout << x;
}
```

</div>
<div>

```plaintext title="Wynik"
5
```

</div>
</Columns>

Niestety to nie zadziaÅ‚a, poniewaÅ¼ do parametru `num` zostaÅ‚a zapisana jedynie wartoÅ›Ä‡ `x`.

Tutaj do gry wchodzÄ… referencje.

## UÅ¼ywanie referencji

MoÅ¼esz utworzyÄ‡ referencjÄ™ dodajÄ…c `&` do typu zmiennej, do ktÃ³rej chcesz referowaÄ‡.

```cpp
int var = 5;
int& ref = x; // ref jest referencjÄ…, odwoÅ‚ujÄ…cÄ… siÄ™ do var
```

Teraz, jeÅ›li zmodyfikujesz `ref`, `var` takÅ¼e ulegnie zmianie, poniewaÅ¼ `ref` **jest** `var`.

## Przekazywanie argumentÃ³w przez referencje

SprawdÅºmy, w jaki sposÃ³b moÅ¼emy wykorzystaÄ‡ referencjÄ™, aby rozwiÄ…zaÄ‡ nasz problem.

Musimy sprawiÄ‡, aby funkcja przyjmowaÅ‚a jako argument `referencjÄ™ do zmiennej typu int` zamiast `int`.

<Columns columns={['8fr', '4fr']}>
<div>

```cpp
#include <iostream>

void doubleNumber(int &num) 
{
    num = num * 2;
}

int main()
{
    int x = 5;
    doubleNumber(x);
}
```

</div>
<div>

```plaintext title="Result"
10
```

</div>
</Columns>

Teraz kiedy funkcja `doubleNumber` przyjmuje referencjÄ™, `num` stanie siÄ™ zmiennÄ… przekazanÄ… do funkcji. Oznacza to, Å¼e jeÅ›li zmodyfikujemy `num` (ktÃ³ry staÅ‚ siÄ™ `x`), `x` takÅ¼e ulegnie zmianie.

:::note Uwaga
ZwrÃ³Ä‡ uwagÄ™, Å¼e znak `&` przy tworzeniu referencji zostaÅ‚ umieszczony raz przy nazwie typu (`int&`), a raz przy nazwie zmiennej (`&num`). Oba te zapisy sÄ… poprawne i oznaczajÄ… to samo.
:::

## Modyfikacja elementÃ³w w pÄ™tli **ranged-based for**

Na podobny problem moÅ¼esz siÄ™ natknÄ…Ä‡ podczas korzystania z **range-based for**. PoniewaÅ¼ referencje **stajÄ… siÄ™** zmiennymi do ktÃ³rych siÄ™ odwoÅ‚ujÄ…, to moÅ¼emy ich uÅ¼yÄ‡ aby uzyskaÄ‡ dostÄ™p do elementÃ³w w tablicy.

Oto prosta tablica:

```cpp
std::vector<int> arr = {2, 4, 6};
```

ZaÅ‚Ã³Å¼my, Å¼e chcemy dodaÄ‡ 5 do kaÅ¼dego elementu. MoÅ¼emy to zrobiÄ‡ odwoÅ‚ujÄ…c siÄ™ do kaÅ¼dego elementu osobno, ale przy duÅ¼ych tablicach staje siÄ™ to kÅ‚opotliwe.

WiÄ™c pÄ™tle przybÄ™dÄ… nam z pomocÄ…!

<Columns columns={['8fr', '4fr']}>
<div>

```cpp
for (int x : arr)
{
    x = x + 5;
}
std::cout << arr[0];
```

</div>
<div>

```plaintext title="Wynik"
2
```

</div>
</Columns>

Niestety, ale powyÅ¼szy kod nie zadziaÅ‚a, poniewaÅ¼ do `x` trafia jedynie kopia elementu, a nie on sam.

W tym miejscu moÅ¼emy skorzystaÄ‡ z referencji, aby do zmiennej `x` przekopiowaÄ‡ element, a nie jedynie jego wartoÅ›Ä‡.

<Columns columns={['8fr', '4fr']}>
<div>

```cpp
for (int& x : arr) 
{
    x = x + 5;
}
std::cout << arr[0];
```

</div>
<div>

```plaintext title="Wynik"
7
```

</div>
</Columns>

Teraz kaÅ¼dy element tablicy zostaÅ‚ powiÄ™kszony o 5.

:::note Odpowiednio uÅ¼ywaj referencji
Korzystaj z referencji jeÅ›li chcesz zmodyfikowaÄ‡ zmiennÄ…. Nie uÅ¼ywaj referencji jeÅ›li potrzebujesz tylko wartoÅ›ci.
:::