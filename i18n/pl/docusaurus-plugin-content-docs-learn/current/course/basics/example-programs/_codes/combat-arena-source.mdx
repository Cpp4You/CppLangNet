```cpp showLineNumbers
#include <iostream>
#include <vector>
#include <string>
#include <ctime>
#include <cstdlib>
#include <iomanip>

/////// Przydatne funkcje (deklaracje)

/// Czyszczenie konsoli
/// https://cpp-lang.net/pl/learn/course/basics/articles/console/#czyszczenie-konsoli
void clearConsole();

/// Liczby pseudolosowe
/// https://cpp-lang.net/pl/learn/course/basics/articles/random/

// Losowanie floata od 0 do 1
float randomFloat();
// Losowanie floata od "from" do "to"
float randomFloat(float from, float to);
// Losowanie inta od "from" do "to"
int randomInt(int from, int to);



// Struktura "stworzenie".
// U偶yjemy jej dla  gracza i  wrog贸w.
struct Creature
{
	std::string name;
	float		health;
	float		strength;
	int			stunRounds = 0;
};

// Wyb贸r poziomu trudnoci:
int requestDifficultyLevel();
// Ustawienia gracza (nick, klasa postaci)
Creature requestPlayerSetup();
// Stw贸rz przeciwnika
Creature makeEnemy(int difficultyLevel);

int main()
{
	// Przygotowanie liczb pseudolosowych
	std::srand( std::time(0) );

	Creature player;
	std::vector< Creature > enemies;

	std::cout	<< "=== Arena walki ===\n";

	// Ustawiam formatowanie cout-a
	std::cout.precision(2);
	std::cout << std::fixed;

	int difficultyLevel = requestDifficultyLevel();
	if (difficultyLevel < 1 || difficultyLevel > 3)
	{
		std::cout << "Nieprawidowy poziom trudnoci\n";
		return 0;
	}
	clearConsole();

	// Informacje o graczu
	player = requestPlayerSetup();
	
	// Spawnowanie przeciwnik贸w:

	int numberOfEnemies;

	if (difficultyLevel == 1)
		numberOfEnemies = 4;
	else if (difficultyLevel == 2)
		numberOfEnemies = 6;
	else if (difficultyLevel == 3)
		numberOfEnemies = 8;

	// Dodaj przeciwnik贸w
	for (int i = 0; i < numberOfEnemies; i++)
		enemies.push_back( makeEnemy(difficultyLevel) );

	clearConsole();
	while (enemies.size() > 0 && player.health > 0)
	{
		// Wywietl informacje o graczu:
		std::cout	<< "Gracz: "		<< player.name << "\n"
					<< player.health	<< " HP, "
					<< player.strength	<< " siy\n\n";

		std::cout << "Walczysz z " << enemies.size() << " przeciwnikami:\n";
		
		// Wywietl przeciwnik贸w:
		for (size_t i = 0; i < enemies.size(); ++i)
		{
			if (i != 0)
				std::cout << ", ";
			std::cout << enemies[i].name << " (" << enemies[i].health << " HP";
			if (enemies[i].stunRounds > 0)
				std::cout << ", oguszony";
			std::cout << ")";
		}
		std::cout << "\n\n";

		// Wylosuj przeciwnika (poprzez indeks):
		int randomEnemy = randomInt(0, enemies.size() - 1);

		std::cout	<< "Skupiasz si na " << enemies[randomEnemy].name
					<< " (" << enemies[randomEnemy].health << " HP"
					<< (enemies[randomEnemy].stunRounds > 0 ? ", oguszony)\n" : ")\n")
					<< "Wybierz akcj:\n"
					<< "1) Atak\n"
					<< "2) Unik\n"
					<< "3) Spr贸buj oguszy\n"
					<< "Tw贸j wyb贸r: ";

		int action;

		std::cin >> action;
		if (action < 1 || action > 3)
		{
			std::cout << "Nieprawidowa akcja. Z braku czasu zdecydowae si na atak!\n";
			action = 1;
		}

		// szansa na zostanie trafionym przez przeciwnika
		// w tej turze
		int chanceOfGettingHit = 80;

		if (action == 1)
		{
			// Wylosuj si ataku (+/- 2 obra偶enia)
			float attackStrength = randomFloat(player.strength - 2, player.strength + 2);
			std::cout << "Atakujesz zadajc " << attackStrength << " obra偶e!\n";

			enemies[randomEnemy].health -= attackStrength;
		}
		else if (action == 2)
		{
			// Zmniejszamy szans na bycie trafionym
			chanceOfGettingHit = randomInt(40, 70);
		}
		else if (action == 3)
		{
			int stunRounds = randomInt(0, 3);
			if (stunRounds == 0)
				std::cout << "Pr贸ba oguszenia nie powioda si...\n";
			else if (stunRounds == 1)
				std::cout << "Oguszye przeciwnika na t tur\n";
			else
				std::cout << "Oguszye przeciwnika na t tur i " << (stunRounds - 1) <<  " nastpnych\n";

			// Nie pozw贸l zdjc oguszenia, mo偶na tylko przedu偶y
			if (enemies[randomEnemy].stunRounds < stunRounds)
				enemies[randomEnemy].stunRounds = stunRounds;
		}
		
		// Przeciwnik nie 偶yje
		if (enemies[randomEnemy].health <= 0)
		{
			std::cout << "Przeciwnik pada na ziemi bez ruchu...";
			// Usuwamy przeciwnika
			enemies.erase(enemies.begin() + randomEnemy);
		}
		else // Tura przeciwnika
		{
			if (enemies[randomEnemy].stunRounds > 0)
				std::cout << "Oguszony przeciwnik stoi bez ruchu...";
			else
			{
				int hitChanceTest = randomInt(0, 100);

				if (hitChanceTest <= chanceOfGettingHit)
				{
					// Wylosuj si ataku (+/- 2 obra偶enia)
					float attackStrength = randomFloat(
							enemies[randomEnemy].strength - 1,
							enemies[randomEnemy].strength + 1
						);
					std::cout << "Przeciwnik wykonuje atak i zadaje " << attackStrength << " obra偶e.";
					player.health -= attackStrength;
				}
				else
					std::cout << "Przeciwnik wykonuje atak, ale puduje...";
			}
		}
		// Odstp
		std::cout << "\n\n";
		
		// Zmniejsz wszystkim poziom oguszenia:
		for (size_t i = 0; i < enemies.size(); ++i)
		{
			if (enemies[i].stunRounds > 0)
				enemies[i].stunRounds--;
		}

		std::cout << "Nacinij Enter, by przej do kolejnej rundy.";
		std::cin.ignore();
		std::cin.get();
		clearConsole();
	}

	if (player.health <= 0)
		std::cout << "Zostae pokonany...";
	else
		std::cout << "Zwyci偶ye!";
}

///////////////////////////////
// Wyb贸r poziomu trudnoci:
///////////////////////////////
int requestDifficultyLevel()
{
	std::cout	<< "Wybierz poziom trudnoci:\n"
				<< "1) atwy\n"
				<< "2) Normalny\n"
				<< "3) Trudny\n"
				<< "Tw贸j wyb贸r: ";

	int level;
	std::cin >> level;

	return level;
}

///////////////////////////////
// Wyb贸r imienia i klasy postaci
///////////////////////////////
Creature requestPlayerSetup()
{
	Creature player;

	// Bazowe wartoci:
	player.health	= 100;
	player.strength	= 12;

	std::cout	<< "Podaj swoje imie wojowniku: ";
	std::cin.ignore();
	std::cin.clear();
	std::getline(std::cin, player.name);
	std::cout << '\n';

	// Pytaj o klas postaci a偶 do skutku:
	int playerClass			= 0;
	int playerClassTries	= 0;
	while (playerClass < 1 || playerClass > 3)
	{
		clearConsole();
		if (playerClassTries > 0)
			std::cout << "Nieprawidowa klasa, spr贸buj jeszcze raz.\n\n";

		std::cout	<< "Wybierz swoj klas postaci:\n"
					<< "1) Rycerz (偶ycie + 15, obra偶enia + 4)\n"
					<< "2) Mag (obra偶enia + 7)\n"
					<< "3) Obroca (偶ycie + 45)\n"
					<< "Tw贸j wyb贸r: ";
		std::cin >> playerClass;

		playerClassTries++;
	}
	
	if (playerClass == 1) // Rycerz
	{
		player.health	+= 15;
		player.strength	+= 4;
	}
	else if (playerClass == 2) // Mag
		player.strength	+= 7;
	else if (playerClass == 2) // Obroca
		player.health	+= 45;

	return player;
}


///////////////////////////////
// Tworzenie przeciwnika bazujc na poziomie trudnoci
///////////////////////////////
Creature makeEnemy(int difficultyLevel)
{
	// Typ przeciwnika:
	// 0 - Goblin
	// 1 - Goblin wojownik
	// 2 - Ork

	// Szanse na utworzenie:
	// atwy:	Goblin: 75%, Goblin wojownik 25%
	// redni:	Goblin: 55%, Goblin wojownik 45%
	// Trudny:	Goblin: 55%, Goblin wojownik 30%, Ork: 15%

	int enemyType;
	int randomChoice = randomInt(0, 100); // losowanie procent贸w
	if (difficultyLevel == 1) // atwy
	{
		if (randomChoice <= 75) enemyType = 0;
		else					enemyType = 1;
	}
	else if (difficultyLevel == 2) // redni
	{
		if (randomChoice <= 55) enemyType = 0;
		else					enemyType = 1;
	}
	else // Trudny
	{
		if (randomChoice <= 55)	enemyType = 0;
		if (randomChoice <= 85)	enemyType = 1; // 85% bo 55% + 30%
		else					enemyType = 2;
	}

	Creature enemy;

	// Tworzenie przeciwnika
	if (enemyType == 0)
	{
		enemy.name		= "Goblin";
		enemy.health	= 20;
		enemy.strength	= 4;
	}
	else if (enemyType == 1)
	{
		enemy.name		= "Goblin wojownik";
		enemy.health	= 30;
		enemy.strength	= 6;
	}
	else // Ork
	{
		enemy.name		= "Ork";
		enemy.health	= 60;
		enemy.strength	= 11;
	}

	return enemy;
}

/////// Przydatne funkcje (definicje)
float randomFloat() {
	return float(rand()) / RAND_MAX;
}
float randomFloat(float from, float to) {
	return randomFloat() * (to - from) + from;
}
int randomInt(int from, int to) {
	return int(randomFloat() * (to - from)) + from;
}

void clearConsole()
{
#ifdef _WIN32
	std::system("cls");
#elif __linux__
	std::system("clear");
#else
	static_assert(false, "Unsupported operating system");
#endif
}
```