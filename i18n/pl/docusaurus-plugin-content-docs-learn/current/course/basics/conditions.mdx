---
sidebar_position:	4
sidebar_label:		"4. Instrukcje warunkowe"
description:		"Lekcja: instrukcje warunkowe w jÄ™zyku C++"
---

# Instrukcje warunkowe (if, else)

import TenorGIF		from '@cpp-lang/comps/TenorGIF';
import NotFinished	from '@site/i18n/pl/presets/NotFinished.mdx';

<NotFinished/>

Do tej pory tworzyliÅ›my programy, ktÃ³re za kaÅ¼dym razem dziaÅ‚aÅ‚y tak samo.
Jest to nudne. Niech nasz program reaguje na to, co wpisze uÅ¼ytkownik.

Zrobimy aplikacje, ktÃ³ra sprawdza czy uÅ¼ytkownik jest peÅ‚noletni ğŸ˜

## Przygotowanie kodu

Na sam poczÄ…tek poproÅ›my o podanie roku swojego urodzenia:

```cpp
#include <iostream>

int main()
{
	std::cout << "PROGRAM SPRAWDZAJÄ„CY PEÅNOLETNOÅšÄ†\n";

	std::cout << "Podaj swÃ³j wiek: ";

	int yearOfBirth;
	std::cin >> yearOfBirth;

	// Rok 2021 - na moment pisanie tego artykuÅ‚u
	int age = 2021 - yearOfBirth;

	// highlight-start
	// Sytuacja A:
	std::cout << "JesteÅ› peÅ‚noletni/a";
	// highlight-end

	// highlight-start
	// Sytuacja B:
	std::cout << "Nie jesteÅ› peÅ‚noletni/a";
	// highlight-end
}
```

WyÅ¼ej oznaczyÅ‚em dwa fragmenty kodu, ktÃ³re powinny siÄ™ wykonywaÄ‡ w zaleÅ¼noÅ›ci
od wartoÅ›ci zmiennej `age`.

- sytuacja A (peÅ‚noletni/a) - gdy `age` jest wiÄ™ksze lub rÃ³wne `18`
- sytuacja B (niepeÅ‚noletni/a) - gdy `age` jest mniejsze od `18`

Jak to zrobiÄ‡ w jÄ™zyku C++?

## Instrukcje warunkowe

W C++ mamy kilka rodzajÃ³w instrukcji warunkowych. Na ten moment skupimy siÄ™ na
najprostszych i najbardziej podstawowych z nich:

- `if` (jeÅ¼eli)
- `else` (w przeciwnym wypadku)

Zobaczmy jak to dziaÅ‚a na przykÅ‚adzie wyÅ¼ej przygotowanego kodu:

```cpp
#include <iostream>

int main()
{
	std::cout << "PROGRAM SPRAWDZAJÄ„CY PEÅNOLETNOÅšÄ†\n";

	std::cout << "Podaj swÃ³j wiek: ";

	int yearOfBirth;
	std::cin >> yearOfBirth;

	// Rok 2021 - na moment pisanie tego artykuÅ‚u
	int age = 2021 - yearOfBirth;

	// highlight-start	
	if (age >= 18) 
	{
		// Sytuacja A:
		std::cout << "JesteÅ› peÅ‚noletni/a";
	}
	else
	{
		// Sytuacja B:
		std::cout << "Nie jesteÅ› peÅ‚noletni/a";
	}
	// highlight-end
}
```

Po sÅ‚owie kluczowym `if`, **w nawiasie okrÄ…gÅ‚ym** piszemy warunek.
NastÄ™pnie tworzymy **blok kodu**, ktÃ³ry wykona siÄ™, jeÅ›li warunek zostanie <u>speÅ‚niony</u>.

Po tym, <u>opcjonalnie</u> moÅ¼emy umieÅ›ciÄ‡ `else` wraz z blokiem kodu,
ktÃ³ry wykona siÄ™, gdy warunek z `if`-a <u>nie zostanie speÅ‚niony</u>.

:::danger Uwaga - brak Å›rednika `;`
ZauwaÅ¼, Å¼e po nawiasie przy `if` i po `else` **nie stawiamy Å›rednika**:

```cpp
if (age >= 18) 
{
	// Sytuacja A:
	std::cout << "JesteÅ› peÅ‚noletni/a";
}
else
{
	// Sytuacja B:
	std::cout << "Nie jesteÅ› peÅ‚noletni/a";
}
```
:::

JeÅ›li `if` lub `else` ma wykonaÄ‡ **tylko jednÄ…** instrukcjÄ™, moÅ¼emy uÅ¼yÄ‡ zapisu
bez bloku kodu - czyli nie piszemy wtedy klamer `{` i `}`:

```cpp
if (age >= 18) 
	std::cout << "JesteÅ› peÅ‚noletni/a"; // Sytuacja A
else
	std::cout << "Nie jesteÅ› peÅ‚noletni/a"; // Sytuacja B
```

## WyraÅ¼enia logiczne

WewnÄ…trz nawiasu okrÄ…gÅ‚ego przy `if` wpisujemy **wyraÅ¼enie logiczne**, czyli takie,
ktÃ³rego wynik jest wartoÅ›ciÄ… prawda (`true`) lub faÅ‚sz (`false`).

`age >= 18` jest wyraÅ¼eniem logicznym, ktÃ³re ma wartoÅ›Ä‡ `true`, gdy `age` jest
**wiÄ™ksze lub rÃ³wne** 18.

### Operatory logiczne

WyÅ¼ej uÅ¼yliÅ›my **operatora logicznego** `>=`. OprÃ³cz niego w C++ mamy teÅ¼ inne.

UÅ¼ywajÄ… one zapisu prawie identycznego do matematycznego, z tÄ… rÃ³Å¼nicÄ…,
Å¼e *lub rÃ³wne*, uzyskujemy przez dodanie `=` po **prawej stronie** od `>` lub `<`.
Oto waÅ¼niejsze z nich:

- `a > b` - `a` wiÄ™ksze od `b`
- `a < b` - `a` mniejsze od `b`
- `a >= b` - `a` wiÄ™ksze lub rÃ³wne `b`
- `a <= b` - `a` mniejsze lub rÃ³wne `b`

Oraz dwa jeszcze istotniejsze operatory:

- `a == b` - `a` **rÃ³wne** `b`
- `a != b` - `a` **rÃ³Å¼ne od** `b`

:::danger Uwaga
W `if` do sprawdzenia czy `a` jest rÃ³wne `b` uÅ¼ywamy **podwÃ³jnego znaku rÃ³wna siÄ™**: `==`

Zapis:
```cpp
if (a = b)
{
	// ...
}
```
**NIE DZIAÅA** tak jak Ci siÄ™ wydaje. Powiemy o tym kiedy indziej, na ten moment **zawsze** upewniaj
siÄ™, Å¼e uÅ¼ywasz:
- âœ” `if (a == b)`
- âŒ `if (a = b)`
:::

#### Operator negacji

Ciekawym przypadkiem jest operator negacji, ktÃ³ry jest **jednoargumentowy**.
To oznacza, Å¼e operuje tylko na jednym wyraÅ¼eniu. Zobaczmy to na przykÅ‚adzie:

```cpp
#include <iostream>

int main()
{
	std::cout << "PROGRAM SPRAWDZAJÄ„CY PEÅNOLETNOÅšÄ†\n";

	std::cout << "Podaj swÃ³j wiek: ";

	int yearOfBirth;
	std::cin >> yearOfBirth;

	// Rok 2021 - na moment pisanie tego artykuÅ‚u
	int age = 2021 - yearOfBirth;

	// highlight-next-line
	if (!(age >= 18)) 
		std::cout << "Nie jesteÅ› peÅ‚noletni/a"; // Sytuacja B
	else
		std::cout << "JesteÅ› peÅ‚noletni/a"; // Sytuacja A
}
```

Negacja powoduje zmianÄ™ wartoÅ›ci wyraÅ¼enia z prawdy na faÅ‚sz lub z faÅ‚szu na prawdÄ™.
WzieliÅ›my wyÅ¼ej caÅ‚e wyraÅ¼enie `age >= 18` w nawias i wykonaliÅ›my negacjÄ™, za pomocÄ…
wykrzyknika **przed** wyraÅ¼eniem:

```cpp
!(age >= 18)
```

W efekcie, ten zapis jest rÃ³wnowaÅ¼ny z
```cpp
age < 18
```

### ÅÄ…czenie warunkÃ³w

MoÅ¼emy rÃ³wnieÅ¼ poÅ‚Ä…czyÄ‡ kilka warunkÃ³w ze sobÄ…:

```cpp
if (age >= 18 and age <= 30)
{
	std::cout << "JesteÅ› peÅ‚noletni, ale nie masz wiÄ™cej niÅ¼ 30 lat";
}
```

```cpp
if (age <= 6 or age > 60)
{
	std::cout << "Dla dzieci do 6 roku Å¼ycia i osÃ³b po 60-tce bilet bezpÅ‚atny - wchodzisz za darmo";
}
```

- `and` - wymaga, aby **obydwa** wyraÅ¼enia - po jego lewej i prawej stronie, byÅ‚y prawdziwe
- `or` - wymaga, aby **przynajmniej jedno** wyraÅ¼enie - po jego lewej lub prawej stronie, byÅ‚o prawdziwe


<!-- Ta notka byÄ‡ moÅ¼e do wywalenia -->
PowyÅ¼sze wytÅ‚umaczenie jest uproszczeniem. W jÄ™zyku formalnym powiedzielibyÅ›my, Å¼e:
:::note ZapamiÄ™taj
JeÅ›li `L` i `P` to wyraÅ¼enia logiczne, stojÄ…ce odpowiednio po lewej i prawej stronie operatora `and`/`or` to:
- `L and P` jest prawdziwe wtedy i tylko wtedy, gdy `L` jest prawdziwe **oraz** `P` jest prawdziwe.  
- `L or P` jest prawdziwe wtedy i tylko wtedy, gdy `L` jest prawdziwe **lub** `P` jest prawdziwe.
:::

MoÅ¼esz teÅ¼ w ten sposÃ³b Å‚Ä…czyÄ‡ wiÄ™cej wyraÅ¼eÅ„ logicznych:

```cpp
if (age > 5 and age < 15 or age > 60)
{

}
```

Wtedy musisz wziÄ…Ä‡ pod uwagÄ™ **priorytet operatorÃ³w**, czyli to w jakiej kolejnoÅ›ci
zostanie to sprawdzone.

Operator `and` ma wiÄ™kszy priorytet niÅ¼ `or`, wiÄ™c analizujÄ…c to wyraÅ¼enie
komputer najpierw bierze pod uwagÄ™ wÅ‚aÅ›nie jego, dopiero pÃ³Åºniej `or`.
JeÅ›li masz problem ze zrozumieniem tego, moÅ¼esz wyobraziÄ‡ sobie,
Å¼e komputer jakby *dodaje nawiasy* wokoÅ‚o wyraÅ¼eÅ„ `L and P`,
a jak wiadomo, **to co w nawiasie ma wiÄ™kszy priorytet**.

WyÅ¼ej przedstawiony kod zadziaÅ‚a tak samo jak ten:

```cpp
if ( (age > 5 and age < 15) or age > 60 )
{

}
```

... czyli sprawdzi czy:

- wiek mieÅ›ci siÄ™ w zakresie (5, 15)

**lub**

- wiek jest wiÄ™kszy od 60

:::caution Uwaga
W programowaniu sÅ‚ownie zapisanych `and` i `or` uÅ¼ywa siÄ™ rzadko.
ProgramiÅ›ci czÄ™Å›ciej uÅ¼ywajÄ… ich odpowiednikÃ³w w postaci:

- `&&` zamiast `and`
- `||` zamiast `or`

Ich zachowanie jest identyczne i w dalszej czÄ™Å›ci kursu bÄ™dziemy siÄ™ wÅ‚aÅ›nie nimi posÅ‚ugiwaÄ‡.
:::

### Typ `bool`

Typ danych `bool` sÅ‚uÅ¼y do przechowywania wartoÅ›ci logicznych
prawda (`true`) lub faÅ‚sz (`false`).

PrzykÅ‚ad:

```cpp
#include <iostream>

int main()
{
	std::cout << "Podaj swÃ³j rok urodzenia: ";
	std::cin >> yearOfBirth;

	int age = 2021 - yearOfBirth;

	// highlight-next-line
	bool isAdult = age >= 18;

	// highlight-next-line
	if (isAdult)
		std::cout << "JesteÅ› peÅ‚noletni/a";
	else
		std::cout << "JesteÅ› niepeÅ‚noletni/a";
}
```

Wynik wyraÅ¼enia `age >= 18` (prawda/faÅ‚sz) zapisujemy do zmiennej `isAdult`.
NastÄ™pnie, jeÅ›li `isAdult` jest prawdÄ…, to zobaczymy w konsoli:

```
JesteÅ› peÅ‚noletni/a
```

w przeciwnym wypadku:

```
JesteÅ› niepeÅ‚noletni/a
```

UÅ¼ywajÄ…c operatora negacji na zmiennej `bool`, moÅ¼emy Å‚atwo przeÅ‚Ä…czaÄ‡ jej stan
na zmianÄ™:

```cpp
// Przycisk wciÅ›niÄ™ty?
bool isButtonPressed = true;

isButtonPressed = !isButtonPressed; // zmiana z true na false
isButtonPressed = !isButtonPressed; // teraz zmiana z false na true

isButtonPressed = !!isButtonPressed; // podwÃ³jne zaprzeczenie -> brak efektu
```

## ZÅ‚oÅ¼one instrukcje warunkowe

ZaÅ‚Ã³Å¼my, Å¼e chcemy sprzedawaÄ‡ bilety na basen po rÃ³Å¼nych
cenach, w zaleÅ¼noÅ›ci od wieku. Oto kryteria:

- dzieci poniÅ¼ej 6 lat: za darmo
- osoby w wieku 6 do 17 lat wÅ‚Ä…cznie: 10zÅ‚
- osoby dorosÅ‚e do 59 lat wÅ‚Ä…cznie: 18zÅ‚
- osoby od 60 lat: 15zÅ‚

UÅ¼yjemy w tym celu konstrukcji `else if`, by sprawdzaÄ‡ kolejne warunki:

```cpp
#include <iostream>

int main()
{
	std::cout << "BASEN - ZAKUP BILETÃ“W\n";
	std::cout << "Podaj swÃ³j wiek: ";

	int age;
	std::cin >> age;

	if (age < 6)
		std::cout << "Wchodzisz za darmo";
	// highlight-next-line
	else if (age <= 17)
		std::cout << "Cena biletu: 10zÅ‚";
	// highlight-next-line
	else if (age <= 59)
		std::cout << "Cena biletu: 18zÅ‚";
	else
		std::cout << "Cena biletu: 15zÅ‚";

}
```

SpeÅ‚nienie warunku w ktÃ³rymkolwiek z `if`-Ã³w (wliczajÄ…c `else if`) sprawia,
Å¼e dalsze sprawdzanie Å‚aÅ„cuszka `else if`-Ã³w **zostaje przerwane**. 

:::important Uwaga
`else if`, ani `else` nie jest w ogÃ³le brany pod uwagÄ™, gdy jeden z poprzednich `if` lub `else if`
w Å‚aÅ„cuszku zostaÅ‚ speÅ‚niony.
:::

<!-- TODO: prezentacja dziaÅ‚ania -->
