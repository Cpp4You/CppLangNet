---
toc_max_heading_level: 2
hide_title: true
title: "Zmienne Â» Napisy Â» Potencjalne bÅ‚Ä™dy"
---

import Columns		from '@site-comps/Columns';
import GoogleSlides	from '@site-comps/GoogleSlides';
import Image		from '@site-comps/Image';
import Tooltip		from '@site-comps/Tooltip';
import NotFinished	from '@site/i18n/en/presets/NotFinished.mdx';

import Tabs			from '@theme/Tabs';
import TabItem		from '@theme/TabItem';

{/* Error messages */}

import ErrorMessage_ForgottenIncludeGCC		from "./_error-messages/forgotten-include-gcc.mdx";
import ErrorMessage_ForgottenIncludeMSVC	from "./_error-messages/forgotten-include-msvc.mdx";

import ErrorMessage_WrongIntToStringGCC		from "./_error-messages/wrong-int-to-string-gcc.mdx";
import ErrorMessage_WrongIntToStringMSVC	from "./_error-messages/wrong-int-to-string-msvc.mdx";

import ErrorMessage_StringIsNotIntGCC		from "./_error-messages/string-is-not-int-gcc.mdx";
import ErrorMessage_StringIsNotIntMSVC		from "./_error-messages/string-is-not-int-msvc.mdx";

import ErrorMessage_AddingLiteralsGCC		from "./_error-messages/adding-literals-gcc.mdx";
import ErrorMessage_AddingLiteralsMSVC		from "./_error-messages/adding-literals-msvc.mdx";

# Zmienne Â» Napisy Â» Potencjalne bÅ‚Ä™dy

## Potencjalne bÅ‚Ä™dy

## Nie doÅ‚Ä…czenie odpowiedniego nagÅ‚Ã³wka

```cpp showLineNumbers title="âŒ Niepoprawny kod"
int main()
{
	// error-next-line
    std::string s = "Hello";
}
```

### ğŸ”´ TreÅ›Ä‡ bÅ‚Ä™du:

<Tabs groupId="compiler">
	<TabItem value="gcc" label="GCC" default>
		<ErrorMessage_ForgottenIncludeGCC />
	</TabItem>
<TabItem value="msvc" label="MSVC">
		<ErrorMessage_ForgottenIncludeMSVC />
</TabItem>
</Tabs>

### ğŸ‘Œ RozwiÄ…zanie problemu

Dodaj linijkÄ™ `#include <string>` na gÃ³rze swojego pliku.

## Traktowanie liczb jako napisÃ³w

```cpp showLineNumbers title="âŒ Niepoprawny kod"
#include <string>

int main()
{
	// error-next-line
    std::string s = 123;
}
```

### ğŸ”´ TreÅ›Ä‡ bÅ‚Ä™du:

<Tabs groupId="compiler">
	<TabItem value="gcc" label="GCC" default>
		<ErrorMessage_WrongIntToStringGCC />
	</TabItem>
	<TabItem value="msvc" label="MSVC">
		<ErrorMessage_WrongIntToStringMSVC />
	</TabItem>
</Tabs>

### ğŸ‘Œ RozwiÄ…zanie problemu

{/* Needed to put a full link here, no idea how to make it relative */}

UÅ¼yj funkcji `std::to_string`, aby przekonwertowaÄ‡ liczbÄ™ na napis.
Zobacz [Konwersja pomiÄ™dzy liczbami i tekstem](https://cpp-lang.net/pl/learn/course/basics/variables/strings/#konwersja-pomiedzy-liczbami-i-tekstem)
i [Liczby i napisy](../examples#liczby-i-napisy) po wiÄ™cej informacji.

## Traktowanie napisÃ³w jako liczb

```cpp showLineNumbers title="âŒ Niepoprawny kod"
#include <string>

int main()
{
    std::string s = "123";
	// error-next-line
	s *= 15;
}
```

### ğŸ”´ TreÅ›Ä‡ bÅ‚Ä™du:

<Tabs groupId="compiler">
	<TabItem value="gcc" label="GCC" default>
		<ErrorMessage_StringIsNotIntGCC />
	</TabItem>
	<TabItem value="msvc" label="MSVC">
		<ErrorMessage_StringIsNotIntMSVC />
	</TabItem>
</Tabs>

### ğŸ‘Œ RozwiÄ…zanie problemu

UÅ¼yj funkcji `std::stoi` lub `std::stof`, aby przekonwertowaÄ‡ Å‚aÅ„cuch znakÃ³w na liczbÄ™.
Zobacz [Konwersja pomiÄ™dzy liczbami i tekstem](https://cpp-lang.net/pl/learn/course/basics/variables/strings/#konwersja-pomiedzy-liczbami-i-tekstem)
i [Liczby i napisy](../examples#liczby-i-napisy) po wiÄ™cej informacji.

## ÅÄ…czenie dwÃ³ch literaÅ‚Ã³w stringowych

```cpp showLineNumbers title="âŒ Niepoprawny kod"
#include <string>

int main()
{
	//error-next-line
    std::string s = "Hello " + "World";
}
```

### ğŸ”´ TreÅ›Ä‡ bÅ‚Ä™du:

<Tabs groupId="compiler">
	<TabItem value="gcc" label="GCC" default>
		<ErrorMessage_AddingLiteralsGCC />
	</TabItem>
	<TabItem value="msvc" label="MSVC">
		<ErrorMessage_AddingLiteralsMSVC />
	</TabItem>
</Tabs>

### ğŸ‘Œ RozwiÄ…zanie problemu

Zawsze kiedy widzisz w kodzie C++ `"TEKST"`, mÃ³wimy na to *literaÅ‚ stringowy* (ang.: *string literal*). 
Jest to Å›mieszny termin na wartoÅ›Ä‡ wpisanÄ… na sztywno (ang.: *hardcoded*). WaÅ¼ne jest jednak to, Å¼e **literaÅ‚ stringowy** to nie to samo co `std::string`! MajÄ… inne typy i trochÄ™ inne wÅ‚aÅ›ciwoÅ›ci. Typ literaÅ‚u stringowego to `const char[N]`, gdzie `N` to dÅ‚ugoÅ›Ä‡ tego tekstu + 1. BÅ‚Ä…d z kompilatora GCC wyÅ¼ej pokazuje to najlepiej.

`const char[N]` to *tablicÄ…*. Tablice omÃ³wimy w pÃ³Åºniejszym rozdziale, ale waÅ¼ne jest to, Å¼e
nie moÅ¼na do siebie dodaÄ‡ dwÃ³ch tablic, poniewaÅ¼ nie sÄ… one liczbami. `std::string` w specjalny sposÃ³b zapewnia nam takÄ… moÅ¼liwoÅ›Ä‡ (co rÃ³wnieÅ¼ omÃ³wimy dalej w kursie).

Najprostszym sposobem na naprawienie tego bÅ‚Ä™du jest poÅ‚Ä…czenie tych literaÅ‚Ã³w wÅ‚asnorÄ™cznie: `"Hello World"`.

## OminiÄ™cie wywoÅ‚ania std::getline

```cpp title="âš ï¸ Buggy Code"
#include <string>

int main()
{
	int age;
	std::string full_name;

	std::cout << "Enter your age: ";
	std::cin >> age;

	std::cout << "Enter your full name: ";
	// warning-next-line
	std::getline(std::cin, full_name); // Ta linia wydaje siÄ™ nie wykonywaÄ‡

	std::cout << "\nYour name is " << full_name << " and your age is " << age;
}
```

### Niespodziewane Zachowanie

Szybko zauwaÅ¼ysz, Å¼e uÅ¼ywajÄ…Ä‡ `std::getline`, zaraz po uÅ¼yciu `std::cin >> ... ` w jakiejkolwiek formie, wywoÅ‚anie `std::getline` wydaje siÄ™ byÄ‡ ominiÄ™te.
W przykÅ‚adzie wyÅ¼ej, program zapyta uÅ¼ytkownika o wiek, uÅ¼ytkownik wprowadziÅ‚by, powiedzmy `23`, a nastÄ™pnie program zapytaÅ‚by o imiÄ™, lecz uÅ¼ytkownik nie miaÅ‚by szansy nic wpisaÄ‡.
Zamiast tego, program od razu wypisaÅ‚by `Your name is  and your age is 23`.

### ğŸ‘Œ RozwiÄ…zanie problemu

Zrozumienie dlaczego tak siÄ™ dzieje jest troszkÄ™ skomplikowane. Na poczÄ…tek przypomnijmy, Å¼e `std::cin` wyciÄ…ga dane z *stdin* aÅ¼ do napotkania biaÅ‚ych znakÃ³w (spacja, nowa linia lub tabulator). Kiedy uÅ¼ytkownik naciÅ›nie `Enter`, aby wprowadziÄ‡ wiek do programu, *znak nowej linii* `\n` zostaje wprowadzony do *stdin*. `std::cin` sczytuje dane, ktÃ³re uÅ¼ytkownik wpisaÅ‚ i zatrzymuje siÄ™ na nowej linii **nie ignorujÄ…c jej**.

`std::getline` okreÅ›la koniec tekstu na podstawie znakÃ³w nowej lini w tekÅ›cie.
WiÄ™c kiedy aby funkcja ta prÃ³buje pobraÄ‡ od nas kolejne dane z `*stdin` aÅ¼ do napotkania `\n`,
od razu widzi ona ten znak, ktÃ³ry zostaÅ‚ tam zostawiony przez poprzednie wywoÅ‚anie `std::cin >> age;`.
Interpretuje wiÄ™c ona to jako koniec danych i ustawia `full_name` jako pusty napis `""`.

RozwiÄ…zaniem tego problemu jest uÅ¼yciem kolejnej *metody* - `ignore`.
Ta metoda mÃ³wi `std::cin`, aby ominÄ…Å‚ on pozostawiony z poprzedniej operacji znak nowej linii.


Za kaÅ¼dym razem, kiedy chcesz uÅ¼yÄ‡ `std::getline` po uÅ¼yciu `std::cin`, powinieneÅ› wywoÅ‚aÄ‡ `std::cin.ignore()` pomiÄ™dzy tymi operacjami, jak w tym przykÅ‚adzie:
```cpp title="Jak uÅ¼yÄ‡ metody ignore"
int age;
std::string full_name;

std::cin >> age;

//highlight-next-line
std::cin.ignore();

std::getline(std::cin, full_name);
```
