---
sidebar_position:	3
sidebar_label:		"3. Napisy"
title:				"Napisy"
description:		"Lekcja: podstawy napisÃ³w w jÄ™zyku C++"
tags:				[string, napis, tekst, typ, zmienna, deklaracja, definicja, inicjalizacja]
hide_title:			true
---

{/* Presets */}
import NotFinished		from '@site/i18n/pl/presets/NotFinished.mdx';
import ImproveSection	from '@site/i18n/pl/presets/ImproveSection.mdx';

{/* Components */}
import Tabs				from '@theme/Tabs';
import TabItem			from '@theme/TabItem';
import Columns			from "@site-comps/Columns";
import Image			from "@site-comps/Image";

# Napisy

W tej lekcji dowiesz siÄ™, jak uÅ¼ywaÄ‡ zmiennych przechowujÄ…cych tekst.
Jako ludzie, tekst jest podstawowym medium, poprzez ktÃ³re wchodzimy w interakcjÄ™ z programami komputerowymi.
Poznanie podstawowych zasad przechowywania tekstu i manipulacji nim jest kluczowe dla tworzenia funkcjonalnych aplikacji, z ktÃ³rych ludzie mogÄ… i chcÄ… korzystaÄ‡.

## Motywacja

Zmienne typu tekstowego sÄ… bardzo przydatne. PrzykÅ‚adem niech bÄ™dzie program, ktÃ³ry
wczytuje imie uÅ¼ytkownika, po czym wita go podajÄ…c iloÅ›Ä‡ znakÃ³w w jego imieniu.

```cpp title="Program wczytujÄ…cy imie"
#include <iostream>
// highlight-next-line
#include <string>

int main()
{
	// highlight-next-line
	std::string name;
	std::cout << "Podaj swoje imie: ";
	// highlight-next-line
	std::cin >> name;
	std::cout << "Witaj, " << name << "!\n";
	std::cout << "Twoje imie ma " << name.size() << " znakow.\n";
}
```

## Typ przechowujÄ…cy tekst

W poprzednich lekcjach mÃ³wiliÅ›my o rÃ³Å¼nych typach zmiennych, gÅ‚Ã³wnie tych,
ktÃ³re przechowujÄ… liczby. WspomnieliÅ›my teÅ¼ o typie `char` (od ang.: *character*), ktÃ³ry przechowuje
**pojedynczy znak**.

W programowaniu, na tekst mÃ³wi siÄ™ *Å‚aÅ„cuch znakÃ³w* (ang.: *string*).
W C++ istnieje typ, ktÃ³ry pozwala nam przechowywaÄ‡ i manipulowaÄ‡ takimi Å‚aÅ„cuchami i jest to [`std::string`](/docs/std/containers/strings/string).

:::important Plik nagÅ‚Ã³wkowy
Aby mÃ³c poprawnie korzystaÄ‡ z `std::string` **musimy** dodaÄ‡ do kodu nagÅ‚Ã³wek `string`,
w ten sam sposÃ³b co wczeÅ›niej `iostream`:

```cpp
#include <string>
```
:::

Typu `std::string` uÅ¼ywamy tak jak kaÅ¼dego innego.
Tutaj deklarujemy dwie zmienne - jednÄ… o typie `int` oraz jednÄ… o typie `std::string`.

```cpp title="UÅ¼ywanie typu string"
int number;
std::string text;
```

### Inicjalizacja

Przypisanie poczÄ…tkowej wartoÅ›ci wyglÄ…da tak samo jak w przypadku zmiennych o innych typach,
przy czym naleÅ¼y pamiÄ™taÄ‡, Å¼e **tekst podajemy miÄ™dzy cudzysÅ‚owami**, nie pojedynczymi apostrofami:

```cpp title="Inicjalizacja i wypisanie zmiennej typu string"
std::string welcome = "Hello, World!";
std::cout << welcome;
```

JeÅ›li nie podamy Å¼adnej wartoÅ›ci, nasz Å‚aÅ„cuch znakÃ³w bÄ™dzie *pusty*.
Jego dÅ‚ugoÅ›Ä‡ bÄ™dzie wynosiÄ‡ 0, a po wypisaniu na konsolÄ™ nie zobaczymy nic,

## Operacje na napisach

### Interakcja z uÅ¼ytkownikiem

Napisy moÅ¼emy wyÅ›wietlaÄ‡ za pomocÄ… `std::cout` oraz wczytywaÄ‡ za pomocÄ… `std::cin`.

```cpp title="Wczytanie imienia i powitanie"
#include <iostream>
#include <string>

int main()
{
	std::string name;
	std::cout << "Podaj swoje imie: ";
	std::cin >> name;
	std::cout << "Witaj, " << name << "!\n";
}
```

ZauwaÅ¼, Å¼e `std::cin` pobiera tekst do napotkania pierwszego biaÅ‚ego znaku, czyli np. spacji, znaku nowej linii czy tabulatora.
Przez to, jeÅ›li podamy swoje imiÄ™ i nazwisko to do zmiennej `name` trafi jedynie imiÄ™.
Aby pobraÄ‡ caÅ‚Ä… liniÄ™ moÅ¼emy uÅ¼yÄ‡ `std::getline`:

```cpp title="Wczytywanie caÅ‚ej linii tekstu"
std::string full_name;
std::getline(std::cin, full_name);
```

`std::getline` jest *funkcjÄ…*, ktÃ³ra przyjmuje dwa argumenty - *strumieÅ„ wejÅ›ciowy* do odczytania linii oraz zmiennÄ… `std::string` do ktÃ³rej ta linia zostanie zapisana.
Ten przykÅ‚ad pokazuje jak moÅ¼na uÅ¼yÄ‡ tej funkcji do odczytania linii z `std::cin`.
Tak wiÄ™c funkcjÄ™ tÄ™ "wywoÅ‚ujemy" umieszczajÄ…c nazwÄ™ funkcji `std::getline`, nastÄ™pnie nawiasy `(...)`,
a wewnÄ…trz nawiasÃ³w argumenty, ktÃ³re chcemy podaÄ‡, oddzielone przecinkiem: `std::cin, full_name`.

### ÅÄ…czenie

Operatory `+` i `+=` mogÄ… byÄ‡ uÅ¼yte do *konkatenacji* dwÃ³ch napisÃ³w oraz *doÅ‚Ä…czenia* jednego napisu do drugiego.
RozwaÅ¼my nastÄ™pujÄ…cy skrÃ³cony przykÅ‚ad z wejÅ›ciem `Dwayne Johnson`:

<Columns columns={['2fr', '1fr']}>
<div>

```cpp title="Konkatenacja i doÅ‚Ä…czanie"
std::string first_name;
std::string last_name;

std::cin >> first_name;
std::cin >> last_name;

// Konkatenacja
// highlight-next-line
std::string cool_name = first_name + " \"The Rock\" " + last_name;
std::cout << "Your cool name is:\n" << cool_name << "\n\n";

// DoÅ‚Ä…czanie
// highlight-next-line
cool_name += " Mk II";
std::cout << "Your new name is:\n" << cool_name;
```
</div>
<div>

```plaintext title="Result"
Your cool name is:
Dwayne "The Rock" Johnson

Your new name is:
Dwayne "The Rock" Johnson Mk II
```
</div>
</Columns>

ZauwaÅ¼, Å¼e `cool_name` jest wynikiem *konkatenacji* trzech Å‚aÅ„cuchÃ³w - `first_name`, `"The Rock"` i `last_name`.
Dalej w kodzie moÅ¼na zobaczyÄ‡, jak modyfikujemy `cool_name` poprzez *doÅ‚Ä…cznie* do niego `" Mk II"`.

### Sprawdzanie dÅ‚ugoÅ›ci

Aby sprawdziÄ‡ ile znakÃ³w znajduje siÄ™ w Å‚ancuchu uÅ¼ywamy tak zwanej *metody* `size`.
O funkcjach i metodach bÄ™dziemy mÃ³wiÄ‡ wiÄ™cej w dalszej czÄ™Å›ci kursu, gdyÅ¼ sÄ… one bardzo waÅ¼nym pojÄ™ciem.

Zobaczmy jak wykorzystaÄ‡ metodÄ™ `size` w praktyce. RozwaÅ¼my nastÄ™pujÄ…cy przykÅ‚ad z wejÅ›ciem `Johnny`:

<Columns columns={['2fr', '1fr']}>
<div>

```cpp title="Program liczÄ…cy dÅ‚ugoÅ›Ä‡ imienia"
#include <iostream>
#include <string>

int main()
{
	std::string name;
	std::cout << "Enter your name: ";
	std::cin >> name;

	std::cout << "\nWelcome, " << name << "!\n";
	// highlight-next-line
	std::cout << "Your name has " << name.size() << " characters.\n";
}
```
</div>
<div>

```plaintext title="Result"
Welcome, Johnny!
Your name has 6 characters.
```
</div>
</Columns>

MetodÄ™ `size` wywoÅ‚ujemy na zmiennej `name` w nastÄ™pujÄ…cy sposÃ³b: `name.size()`.
Symbol `.` wskazuje, Å¼e mamy dostÄ™p do czegoÅ› na naszej zmiennej `name`.
`size` jest nazwÄ… metody, do ktÃ³rej uzyskujemy dostÄ™p.

UÅ¼ycie nawiasÃ³w `()` * wywoÅ‚uje* metodÄ™ `size`.
Ta zwraca nam caÅ‚kowitÄ… liczbÄ™ znakÃ³w w napisie.

Te pojÄ™cia nie sÄ… teraz kluczowe do zapamiÄ™tania, ale zobaczysz je pÃ³Åºniej w lekcjach Funkcje i Metody; po prostu zapamiÄ™taj jak ich uÅ¼ywaÄ‡.

Dla przypomnienia, okreÅ›lamy zmiennÄ… (`name`), nastÄ™pnie piszemy `size` po kropce, a potem **puste** nawiasy okrÄ…gÅ‚e:

```cpp title="WywoÅ‚anie metody size"
name.size()
```

### Konwersja pomiÄ™zdy liczbami i tekstem

Liczby i Å‚aÅ„cuchy nie mogÄ… byÄ‡ swobodnie konwertowane na siebie bez specjalnych funkcji, ktÃ³ra robiÄ… to za nas.
Dzieje siÄ™ tak dlatego, Å¼e typy liczbowe i typy Å‚aÅ„cuchÃ³w w C++ sÄ… zdecydowanie **rÃ³Å¼ne** i nie sÄ… ogÃ³lnie kompatybilne.
ChoÄ‡ moÅ¼e to byÄ‡ denerwujÄ…ce, jest to w rzeczywistoÅ›ci bardzo waÅ¼ne dla tworzenia kodu wolnego od bÅ‚Ä™dÃ³w.

```cpp
53
"53"
```

PierwszÄ… wartoÅ›ciÄ… jest liczba `53`. Reprezentuje ona wartoÅ›Ä‡, na ktÃ³rej moÅ¼emy wykonywaÄ‡ operacje matematyczne.
Druga wartoÅ›Ä‡ to tekst skÅ‚adajÄ…cy siÄ™ ze znakÃ³w `'5'` i `'3'`.
Nie moÅ¼emy wykonywaÄ‡ operacji matematycznych na Å‚aÅ„cuchach; raczej, operacje na Å‚aÅ„cuchach, ktÃ³re moÅ¼emy wykonaÄ‡ to konkatenacje.

NastÄ™pujÄ…ce kawaÅ‚ki kodu to nieudolne i niepoprawne (koÅ„czÄ…ce siÄ™ bÅ‚Ä™dem kompilacji) prÃ³by konwersji miÄ™dzy Å‚aÅ„cuchami a liczbami:

<Tabs>
<TabItem value="bad1" label="âŒ Niepoprawne" default>

```cpp title="âŒ Przypisywanie zmiennej liczbowej do Å‚aÅ„cucha"
int number = 53;
// error-next-line
std::string number_in_str	= number; // BÅ‚Ä…d
```

</TabItem>
<TabItem value="bad2" label="âŒ Niepoprawne">

```cpp title="âŒ Przypisywanie literaÅ‚u liczbowego do Å‚aÅ„cucha"
// error-next-line
std::string number_in_str	= 53; // BÅ‚Ä…d
```

</TabItem>
<TabItem value="bad3" label="âŒ Niepoprawne">

```cpp title="âŒ Przypisywanie Å‚aÅ„cucha do liczby"
std::string str	= "53";
// error-next-line
int number = str; // Error
```
</TabItem>
<TabItem value="bad4" label="âŒ Niepoprawne">

```cpp title="âŒ Przypisywanie literaÅ‚u Å‚aÅ„cucha do liczby"
// error-next-line
int number = "53"; // Error
```

</TabItem>
</Tabs>

Aby przekonwertowaÄ‡ z typu liczbowego (np. `int` czy `float`) na typ Å‚aÅ„cuchowy, musimy uÅ¼yÄ‡ funkcji `std::to_string`.

```cpp title="âœ” Konwersja liczby na napis"
int number = 53;
std::string number_in_str	= std::to_string(number);
```

W ten sam sposÃ³b, jeÅ›li mamy wewnÄ…trz Å‚aÅ„cucha znakÃ³w zapisanÄ… liczbÄ™, moÅ¼emy jÄ…
przekonwertowaÄ‡ na `int`a za pomocÄ… `std::stoi` (od ang.: _**s**tring **to** **i**nt_) oraz
typu `float` za pomocÄ… `std::stof` (od ang.: _**s**tring **to** **f**loat_):

<Tabs>
<TabItem value="stoi" label="ğŸ”µ std::stoi" default>

```cpp title="Konwersja std::string na int"
std::string number_in_str = "53";
int number = std::stoi(number_in_str);
```

</TabItem>
<TabItem value="stof" label="ğŸŸ£ std::stof">

```cpp title="Konwersja std::string na float"
std::string number_in_str = "53.5"; // w tekÅ›cie nie podajemy `f` na koÅ„cu
float number = std::stof(number_in_str);
```

</TabItem>
</Tabs>


{/* TODO change the text string examples to drawio images */}

## Podsumowanie

W tej lekcji dowiedzieliÅ›my siÄ™ o typie `std::string`, ktÃ³ry sÅ‚uÅ¼y do przechowywania i manipulowania sekwencjami znakÃ³w.

:::tip
Zobacz nastÄ™pujÄ…ce podlekcje, aby zapoznaÄ‡ siÄ™ lepiej z **Å‚aÅ„cuchami znakÃ³w**:

- [ğŸ’¡ PrzykÅ‚ady](./examples)
- [ğŸ Potencjalne problemy](./common-problems)
- [ğŸ“š Ä†wiczenia](./exercises)

:::

