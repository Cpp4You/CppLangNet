---
sidebar_position:	1
sidebar_label:		"1. Pierwszy program"
title:				"Pierwszy program"
description:		"Lekcja: pierwszy program w jÄ™zyku C++"
hide_title:			true
---

import Columns		from '@site-comps/Columns';
import GoogleSlides	from '@site-comps/GoogleSlides';
import Image		from '@site-comps/Image';
import Tooltip		from '@site-comps/Tooltip';
import NotFinished	from '@site/i18n/pl/presets/NotFinished.mdx';

import Tabs			from '@theme/Tabs';
import TabItem		from '@theme/TabItem';

# Pierwszy program

Ta lekcja nauczy CiÄ™ jak napisaÄ‡ pierwszy prosty program w jÄ™zyku C++,
ktÃ³ry bÄ™dzie mÃ³gÅ‚ wyÅ›wietlaÄ‡ tekst i wykonywaÄ‡ proste obliczenia.

## Kod programu

Poprzednio skoÅ„czyliÅ›my na nastÄ™pujÄ…cym kodzie:

<Columns spacing={40} columns={['7fr', '4fr']}>
<div>

```cpp title="main.cpp"
#include <iostream>

int main()
{
	std::cout << "Witaj, Å›wiecie!";
}
```

</div>

<div>

```plaintext title="Wynik (konsola)"
Witaj, Å›wiecie!
```

</div>
</Columns>

WyÅ›wietla on tekst podany powyÅ¼ej w okienku "Wynik".


## OmÃ³wienie

### Funkcja gÅ‚Ã³wna

Zacznijmy od serca naszej aplikacji, czyli tzw. *funkcji gÅ‚Ã³wnej* (ang.: `main`):

```cpp title="Fragment kodu main.cpp"
int main()
{

}
```

PierwszÄ… liniÂ  rozpoczyna **definicja funkcji**. SkÅ‚ada siÄ™ ona z typu zwracanego `int`, nazwy `main` oraz jej parametrÃ³w wewnÄ…trz `()` (w naszym przypadku Å¼adnych).
O ile wiÄ™kszoÅ›Ä‡ z tych okreÅ›leÅ„ nie jest teraz waÅ¼na, to jedyne na co powinieneÅ› zwrÃ³ciÄ‡ uwagÄ™ to nazwa `main`. Zawsze bÄ™dzie ona wyglÄ…daÄ‡ tak,
`int main()`. TwÃ³j program musi zawsze zawieraÄ‡ funkcjÄ™ `main` w tym okreÅ›lonym formacie.

Komputer wykonuje program linijka po linijce.
Gdy uruchamia aplikacjÄ™, po kolei realizuje instrukcje z **bloku kodu** `main`-a.

**Blok kodu** w C++, to zbiÃ³r instrukcji zawartych wewnÄ…trz nawiasÃ³w klamrowych:

```cpp
{

}
```

Funkcja gÅ‚Ã³wna `main` ma swÃ³j blok kodu i wszystko co znajdzie siÄ™ pomiÄ™dzy tymi nawiasami zostanie
wykonane <u>po kolei, od gÃ³ry do doÅ‚u</u>.

:::important
Kod w Å›rodku funkcji `main` jest **zawsze pierwszym kodem, ktÃ³ry siÄ™ wykona**.
:::

### NagÅ‚Ã³wek `iostream`

Na samym poczÄ…tku, znajduje siÄ™ linijka:

```cpp
#include <iostream>
```

Pozwoli ona nam dalej korzystaÄ‡ z funkcjonalnoÅ›ci **wejÅ›cia** (ang.: *input*) i **wyjÅ›cia** (ang.: *output*) (stÄ…d `iostream` - od _**i**nput/**o**utput stream_).
W praktyce oznacza to, Å¼e bÄ™dziemy mogli wypisaÄ‡ coÅ› w konsoli oraz pozwoliÄ‡ uÅ¼ytkownikowi wpisaÄ‡ coÅ› do konsoli i to przechwyciÄ‡.
`iostream` jest **plikiem nagÅ‚Ã³wkowym** (ang.: *header file*). W przyszÅ‚oÅ›ci bÄ™dziemy korzystaÄ‡ z wielu innych nagÅ‚Ã³wkÃ³w.

Instrukcje `#include <naglowek>` prawie zawsze dajemy na samym poczÄ…tku pliku z kodem.
O samym `#include` powiemy sobie w przyszÅ‚oÅ›ci wiÄ™cej.

### Konsola

Konsola lub inaczej "terminal" to najbardziej podstawowe narzÄ™dzie pozwalajÄ…ce na komunikacjÄ™ z programem. Pozwala ona stworzyÄ‡ prosty interfejs,
miÄ™dzy programem a jego uÅ¼ytkownikiem. BÄ™dziesz mieÄ‡ okazjÄ™ zapoznaÄ‡ siÄ™ z tym narzedziem naprawdÄ™ dobrze, poniewaÅ¼ bÄ™dziesz uÅ¼ywaÄ‡
go bardzo czÄ™sto w swojej przygodzie z programowaniem.

PoniÅ¼ej znajdujÄ… siÄ™ przykÅ‚ady uruchomienia <Tooltip title="Jest to przykÅ‚adowy kod, ktÃ³ry wylicza pole trapezu. PÃ³Åºniej w kursie poruszymy podobny temat.">tego samego kodu</Tooltip> w kilku rÃ³Å¼nych Å›rodowiskach. Mimo, Å¼e nie kaÅ¼dy terminal jest taki sam, to wyglÄ…dajÄ… one podobnie - wyÅ›wietlajÄ… tekst z maÅ‚Ä… iloÅ›ciÄ… lub zupeÅ‚nym brakiem kolorÃ³w.

#### ğŸ–¼ PrzykÅ‚ady wyglÄ…du konsol

<Tabs groupId="consoles">
<TabItem value="windows" label="Windows" default>
	<Image center
			maxheight={400}
			alt="PrzykÅ‚adowy wyglÄ…d konsoli na Windowsie"
			src="/img/tutorials/course/basic/first-program/example-terminal-windows.png"
		/>
</TabItem>
<TabItem value="linux" label="Linux">
	<Image center
			maxheight={400}
			alt="PrzykÅ‚adowy wyglÄ…d konsoli na Linuxie"
			src="/img/tutorials/course/basic/first-program/example-terminal-linux.png"
		/>
</TabItem>
</Tabs>

<!-- FIXME: Record a video of different environments (replit, vscode, VS 2022), like in the english version -->

Wiele edytorÃ³w kodu takich jak Visual Studio, VS Code, CLion czy Vim posiadajÄ… zintegrowane okno konsoli bezpoÅ›rednio w programie.

### Wypisywanie do konsoli

Å»eby wyÅ›wietliÄ‡ tekst w konsoli, uÅ¼yliÅ›my nastÄ™pujÄ…cej instrukcji w bloku funkcji `main`:

```cpp
std::cout << "Witaj, Å›wiecie!";
```

`cout` sÅ‚uÅ¼y do wyÅ›wietlania tekstu do konsoli.

:::tip Dla ciekawskich ğŸ˜‰
`cout` jest tzw. strumieniem wyjÅ›cia znakÃ³w (ang.: <i><b>c</b>haracter <b>out</b>put</i>),
jednak na ten moment nie musisz tego pamiÄ™taÄ‡.
:::

MogÄ™ teraz zduplikowaÄ‡ tÄ™ linijkÄ™ kilka razy:

```cpp
std::cout << "Witaj, Å›wiecie!1";
std::cout << "Witaj, Å›wiecie!2";
std::cout << "Witaj, Å›wiecie!3";
```

aby dostaÄ‡ nastÄ™pujÄ…cy efekt:

```
Witaj, Å›wiecie!1Witaj, Å›wiecie!2Witaj, Å›wiecie!3
```

:::caution Åšrednik na koÅ„cu instrukcji!
Åšrednik (`;`) oznacza koniec pojedynczej instrukcji i tym samym oddziela
nastÄ™pujÄ…ce po sobie instrukcje. Kompilator nie patrzy czy sÄ… one napisane w osobnych liniach.
Z tego powodu taki kod:
```cpp
std::cout << "Witaj, Å›wiecie!1"; std::cout << "Witaj, Å›wiecie!2"; std::cout << "Witaj, Å›wiecie!3";
```

jest **akceptowalny**, jednak bardzo nieczytelny. Nie pisz kodu w ten sposÃ³b!
:::


Prezentacja dziaÅ‚ania wyÅ¼ej stworzonego programu (w wersji angielskiej):

<GoogleSlides
		src="https://docs.google.com/presentation/d/e/2PACX-1vTsdQPMXKN90rcz4i515JK-rpUHjHTc5xIjGVtNJS8XSbloMNObHEBUSszvYi9I7tuKBNIdEKNFh1jk/embed"
		aspectRatio={960 / 500}
		delay={500}
		centered
	/>

ZwrÃ³Ä‡ uwagÄ™, Å¼e tekst wypisaÅ‚ siÄ™ do konsoli bez Å¼adnych odstÄ™pÃ³w,
w jednej linii i zawinÄ…Å‚ siÄ™, dopiero pod koniec dostÄ™pnego miejsca.

Program robi **dokÅ‚adnie** to, co ma napisane w kodzie - nie wiÄ™cej, nie mniej.
My "powiedzieliÅ›my" mu tylko tyle, Å¼e ma wyÅ›wietliÄ‡ podane znaki... i on to robi.
Musimy "zÅ‚amaÄ‡" liniÄ™ w odpowiednim miejscu. Sprawi to, Å¼e nastÄ™pne
znaki bÄ™dÄ… wyÅ›wietlane od samego poczÄ…tku kolejnego wiersza.
Aby to zrobiÄ‡ naleÅ¼y **wewnÄ…trz tekstu** umieÅ›ciÄ‡ **specjalny znak**
nowej linii: `\n`, w ten sposÃ³b:

```cpp
std::cout << "Witaj, Å›wiecie!\n";
```

:::caution Backslash
ZwrÃ³Ä‡ uwagÄ™, Å¼e uÅ¼yliÅ›my **backslash**a (`\n`), a nie **forward slash**a (`/n`).
:::

DziaÅ‚anie programu po dodaniu znakÃ³w nowej linii:

<GoogleSlides
		src="https://docs.google.com/presentation/d/e/2PACX-1vRtT6R8wewyaM8WZRUP-KIREO_1HEdReq-BhpmUYKsVWRm5VbRRn7jZbhZyMIZMVzarQ1xkGrjS2eoM/embed"
		aspectRatio={960 / 500}
		delay={500}
		centered
	/>

:::important Znak nowej linii
Sekwencja znakÃ³w `\n` reprezentuje pojedynczy znak. __W kodzie__ musimy zapisaÄ‡ dwa znaki, ale dla programu jest to pojedynczy znak specjalny.
Dzieje siÄ™ tak dlatego, Å¼e nie moÅ¼emy po prostu wstawiÄ‡ "entera" bezpospoÅ›rednio wewnÄ…trz tekstu w kodzie.
Znaku **backslash** (`\`) uÅ¼ywamy, aby zasygnalizowaÄ‡, Å¼e znak, ktÃ³ry po nim nastÄ™puje <Tooltip title={<>Nazywa siÄ™ to <b>escape sequence</b>, wiÄ™cej o nich pÃ³Åºniej</>}>ma specjalne znaczenie</Tooltip>.
:::

<!-- --------------------------------- Poprzedni tekst, ktÃ³ry nie jest uÅ¼ywany pÃ³ki co

mimo, Å¼e w kodzie skÅ‚ada siÄ™ tak naprawdÄ™ z dwÃ³ch znakÃ³w - `\` oraz `n`.
Sekwencja `\n` jest zastÄ™pywana specjalnym znakiem nowej linii. WewnÄ…trz tekstu w kodzie, nie moÅ¼emy daÄ‡ entera,
stÄ…d ten zapis. Znak backslash (`\`) informuje, Å¼e **nastÄ™pujÄ…cy** po nim znak, oznacza coÅ› specjalnego
(tzw. *escape sequence*, o tym kiedy indziej).

------------------------------------------------ -->


### Przedrostek przestrzeni nazw

`std::` to przedrostek tzw. **biblioteki standardowej**, z ktÃ³rej pochodzi `cout`.

PoczÄ…tkujÄ…cy zazwyczaj nie przepadajÄ… za ciÄ…gÅ‚ym powtarzaniem go. MoÅ¼na go pominÄ…Ä‡, jeÅ›li uÅ¼yjemy
wczeÅ›niej odpowiedniej linijki kodu:

```cpp
#include <iostream>
int main()
{
	// highlight-next-line
	using std::cout;
	cout << "Witaj, Å›wiecie!";
}
```

Od miejsca wprowadzenia `using std::cout;` do koÅ„ca bloku kodu moÅ¼na pominÄ…Ä‡ `std::` przy uÅ¼ywaniu
`cout`.

:::caution using namespace std
W wielu innych kursach i ÅºrÃ³dÅ‚ach moÅ¼na spotkaÄ‡ siÄ™ z polecaniem korzystania z `using namespace std;`
**na samej gÃ³rze** pliku z kodem. O ile jest to legalne w C++, to doÅ›wiadczeni programiÅ›ci
zdecydowanie **odradzajÄ… tej praktyki**. WiÄ™cej o tym powiemy w dalszej czÄ™Å›ci kursu.

Na ten moment preferuj styl pokazany wyÅ¼ej.
:::

## Wykonywanie obliczeÅ„

Programowanie sÅ‚uÅ¼y do automatyzacji pewnych czynnoÅ›ci. Na przykÅ‚ad, moÅ¼emy zleciÄ‡ komputerowi
wykonanie obliczenia matematycznego za nas.

UÅ¼yj nastÄ™pujÄ…cego kodu:

<Columns spacing={40} columns={['7fr', '5fr']}>
<div>

```cpp title="main.cpp"
#include <iostream>
int main()
{
	std::cout << "120 * 120 + 540";
}
```

</div>
<div>

```plaintext title="Wynik (konsola)"
120 * 120 + 540
```

</div>
</Columns>

ZwrÃ³Ä‡ uwagÄ™ na wynik powyÅ¼szego programu.

:::caution Uwaga
Wszystko zawarte w cudzysÅ‚owie jest traktowane jako tekst, a nie instrukcje.
:::

Dlatego wÅ‚aÅ›nie zamiast wyÅ›wietliÄ‡ wynik obliczenia, dostaliÅ›my to co wpisaliÅ›my do cudzysÅ‚owu.

Å»eby oznajmiÄ‡, Å¼e chcemy wykonaÄ‡ pewne obliczenie musimy usunÄ…Ä‡ cudzysÅ‚Ã³w:

<Columns spacing={40} columns={['7fr', '5fr']}>
<div>

```cpp title="main.cpp"
#include <iostream>
int main()
{
	std::cout << 120 * 120 + 540;
}
```

</div>
<div>

```plaintext title="Wynik (konsola)"
14940
```

</div>
</Columns>

Po uruchomieniu programu dostaniemy prawidÅ‚owy wynik obliczenia znajdujÄ…cego siÄ™ w kodzie.

:::important Operatory matematyczne
- `+` dodaje do siebie dwie liczby
- `-` odejmuje od siebie dwie liczby
- `*` mnoÅ¼y przez siebie dwie liczby
- `/` dzieli przez siebie dwie liczby
- `()` kontroluje kolejnoÅ›Ä‡ wykonywania dziaÅ‚aÅ„

W wykonywaniu dziaÅ‚aÅ„ obowiÄ…zuje kolejnoÅ›Ä‡ znana nam z matematyki:

1. Najpierw to co w nawiasach okrÄ…gÅ‚ych
2. NastÄ™pnie mnoÅ¼enie i dzielenie, w kolejnoÅ›ci od lewej do prawej
3. PÃ³Åºniej dodawanie i odejmowanie, w kolejnoÅ›ci od lewej do prawej
:::

## Podsumowanie

PoznaÅ‚eÅ› strukturÄ™ kodu pierwszego programu.

:::tip
Å»eby przejÅ›Ä‡ do Ä‡wiczeÅ„ odwiedÅº [tÄ™ stronÄ™](exercises).
:::

Na koniec warto zwrÃ³ciÄ‡ uwagÄ™ co moÅ¼e spowodowaÄ‡ **bÅ‚Ä…d kompilacji**,
lub czego nie powinniÅ›my robiÄ‡, Å¼eby kod byÅ‚ zgodny z dobrymi praktykami.

### Pomijanie `std::`

:::tip Dobra praktyka
Najlepiej nie pomijaj przedrostka `std::`.
:::

JeÅ›li przedrostek `std::` sprawia Ci problem, to rozwaÅ¼
uÅ¼ycie go, tak jak w przykÅ‚adzie, lokalnie, **zawsze wewnÄ…trz funkcji**:

```cpp title="ğŸ”¹ Dopuszczalne uÅ¼ycie"
#include <iostream>
int main()
{
	// highlight-next-line
	using namespace std;
	cout << "Witaj, Å›wiecie!";
}
```

KÅ‚adÄ™ na to nacisk, poniewaÅ¼ jest moÅ¼liwe umieszczenie

```cpp
using namespace std;
```

rÃ³wnieÅ¼ przed caÅ‚Ä… funkcjÄ… `main`, jednak **nie rÃ³b tego**, nawet jeÅ›li caÅ‚y internet mÃ³wi, Å¼e tak jest ok.
To podejÅ›cie moÅ¼e prowadziÄ‡ do dziwnych bÅ‚Ä™dÃ³w wynikajÄ…cych z konfliktu nazw (ang. ambiguity).
ZawartoÅ›Ä‡ biblioteki standardowej jest ogromna. `std` posiada wewnÄ…trz bardzo wiele nazw.

#### PorÃ³wnanie `using`

- **`using namespace std`** sprawia, Å¼e wszelkie nazwy, ktÃ³re wczeÅ›niej wymagaÅ‚y dodania przedrostka `std::` teraz bÄ™dÄ… dostÄ™pne
bez tego wymogu, a wÅ›rod nich sÄ… takie nazwy jak np. `left`
- **`using std::cout`** pozwala nam pomijaÄ‡ przedrostek `std::` tylko przed `cout`. MoÅ¼emy w ten sposÃ³b umiesciÄ‡ kilka potrzebnych rzeczy,
np.: `using std::cout, std::cin, std::string;`

PodsumowujÄ…c: preferuj uÅ¼ywanie `using std::cout` zamiast `using namespace std`.

### Brak Å›rednikÃ³w `;`

PoczÄ…tkujÄ…cy czÄ™sto zapominajÄ… o Å›rednikach (`;`) na koÅ„cach
instrukcji. PrzeÅ›ledÅº dokÅ‚adnie przykÅ‚ady kodu, podawane
w tej lekcji zwracajÄ…c uwagÄ™, gdzie powinny one siÄ™ znaleÅºÄ‡.

#### ğŸ”´ TreÅ›Ä‡ bÅ‚Ä™du

<Tabs groupId="compiler">
<TabItem value="gcc" label="GCC" default>

```plaintext
error: expected `;` before (...)
```

#### ğŸ–¼ Ilustracja bÅ‚Ä™du:

<Image center
		alt="Ilustracja bÅ‚Ä™du - brak Å›rednika"
		src="/img/tutorials/course/basic/first-program/error-no-semicolon-pl.png"
	/>

</TabItem>
<TabItem value="msvc" label="MSVC">

```plaintext
error C2143: syntax error: missing ';' before 'std::cout'
```

#### ğŸ–¼ Ilustracja bÅ‚Ä™du:

<Image center
		alt="Ilustracja bÅ‚Ä™du - missing semicolon"
		src="/img/tutorials/course/basic/first-program/error-no-semicolon-en-msvc.png"
	/>

</TabItem>
</Tabs>

:::info NiedokÅ‚adna treÅ›Ä‡ bÅ‚Ä™dÃ³w
Kompilatory prÃ³bujÄ…c wykryÄ‡ gdzie brakuje Å›rednika czÄ™sto muszÄ… zgadywaÄ‡. Z tego powodu, jeÅ›li jesteÅ› pewny,
Å¼e w podanej przez kompilator linii nie brakuje Å›rednika, sprawdÅº rÃ³wnieÅ¼ kilka linijek, ktÃ³re otaczajÄ… tÄ… podanÄ….

Dodatkowo, brakujÄ…ce Å›redniki mogÄ… powodowaÄ‡ inne niezwiÄ…zane bÅ‚Ä™dy niÅ¼ej w Twoim kodzie.
Zazwyczaj najbardziej pomocna jest treÅ›Ä‡ pierwszego bÅ‚Ä™du wystosowanego przez kompilator.
:::

### NiezakoÅ„czony tekst

Tekst pomiÄ™dzy znakami `"` `"` i naleÅ¼y pamiÄ™taÄ‡ o tym, Å¼eby na koÅ„cu
tekstu faktycznie ten cudzysÅ‚Ã³w siÄ™ znalazÅ‚.

#### ğŸ”´ TreÅ›Ä‡ bÅ‚Ä™du

<Tabs groupId="compiler">
<TabItem value="gcc" label="GCC" default>

```plaintext
error: missing terminating " character
```

#### ğŸ–¼ Ilustracja bÅ‚Ä™du

<Image center
		alt="Ilustracja bÅ‚Ä™du - missing quote"
		src="/img/tutorials/course/basic/first-program/error-no-terminating-quote-en.png"
	/>

</TabItem>
<TabItem value="msvc" label="MSVC">

```plaintext
error C2001: newline in constant
error C2143: syntax error: missing ';' before '}'
```

#### ğŸ–¼ Ilustracja bÅ‚Ä™du:

<Image center
		alt="Ilustracja bÅ‚Ä™du - missing quote"
		src="/img/tutorials/course/basic/first-program/error-no-terminating-quote-en-msvc.png"
	/>

</TabItem>
</Tabs>

### WyÅ›wietlanie znaku `"`

MoÅ¼e CiÄ™ kusiÄ‡, aby umieÅ›ciÄ‡ cudzysÅ‚Ã³w wewnÄ…trz komunikatu, gdy wypisujesz go na konsolÄ™.
PamiÄ™taj jednak, Å¼e C++ traktuje wszystko, co znajduje siÄ™ wewnÄ…trz `"..."`, jako tekst.

Z tego powodu, jeÅ›li napiszesz:
```cpp
"CzeÅ›Ä‡! Nazywam siÄ™ "Diego", witaj w kolonii!"
```

C++ zinterpretuje to jako
```cpp
"TEKST" KOD C++ "TEKST"
```

MoÅ¼esz temu zapobiec dodajÄ…c backslash (`\`) przed cudzysÅ‚owem, by uÅ¼yÄ‡ tzw. *escape-sequence*.

```cpp
"CzeÅ›Ä‡! Nazywam siÄ™ \"Diego\", witaj w kolonii!"
```

#### ğŸ”´ TreÅ›Ä‡ bÅ‚Ä™du

<Tabs groupId="compiler">
<TabItem value="gcc" label="GCC" default>

```plaintext
error: unable to find string literal operator â€˜operator""Diegoâ€™ with â€˜const char [20]â€™, â€˜long unsigned intâ€™ arguments
```

#### ğŸ–¼ Ilustracja bÅ‚Ä™du:

TODO

</TabItem>
<TabItem value="msvc" label="MSVC">

```plaintext
error C3688: invalid literal suffix 'Diego'; literal operator or literal operator template 'operator ""Diego' not found
error C2143: syntax error: missing ';' before 'string'
```

#### ğŸ–¼ Ilustracja bÅ‚Ä™du:

<Image center
		alt="Ilustracja bÅ‚Ä™du - nieprawidÅ‚owy cudzysÅ‚Ã³w"
		src="/img/tutorials/course/basic/first-program/error-unescaped-quote-en-msvc.png"
	/>

</TabItem>
</Tabs>

:::info Niepomocne bÅ‚Ä™dy
PowyÅ¼sze komunikaty o bÅ‚Ä™dach nie sÄ… zbyt pomocne! RealnÄ… wskazÃ³wkÄ… powinien byÄ‡ fakt, Å¼e program traktuje to, co ma byÄ‡ tekstem, jako kod
(widaÄ‡ to w edytorze kodu).
:::
