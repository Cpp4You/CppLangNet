---
sidebar_position:	10
sidebar_label:		"10. Dziedziczenie"
title:				Dziedziczenie
description:		"Lekcja: podstawy dziedziczenia w jÄ™zyku C++"
tags:				[dziedziczenie, struktura, klasa, obiekt, programowanie-obiektowe, oop]
---

{/* Components */}
import Image			from "@site-comps/Image";
import CustomCodeBlock	from "@site-comps/CustomCodeBlock";

{/* Codes */}
import FullCode_DerivedStructs			from "./_codes/inheritance/full-code-step-derived-structs.mdx";
import FullCode_DerivedStructsUsage		from "./_codes/inheritance/full-code-step-derived-structs-usage.mdx";
import FullCode_DerivedStructsMethods	from "./_codes/inheritance/full-code-step-derived-structs-methods.mdx";

W tej lekcji pokaÅ¼emy Ci jak wspÃ³Å‚dzieliÄ‡ cechy rÃ³Å¼nych klas za pomocÄ… dziedziczenia,
tworzÄ…c hierarchiÄ™ i tym samym zapobiec niepotrzebnym powtÃ³rzeniom.

## Motywacja

TworzÄ…c struktury, ktÃ³re odwzorowujÄ… elementy z prawdziwego Å›wiata, czÄ™sto natrafiamy na sytuacjÄ™,
w ktÃ³rej dwie struktury majÄ… wspÃ³lne cechy. PrzykÅ‚adowo, jeÅ›li tworzymy grÄ™ o pojazdach,
zawierajacÄ… i samoloty âœˆ i samochody ğŸš—, utworzylibyÅ›my nastÄ™pujÄ…ce dwie struktury:

```cpp showLineNumbers
struct Car
{
	// highlight-start
	std::string brand; // marka
	std::string model;
	int production_year; // rok produkcji
	// highlight-end

	bool is_cabrio;
};

struct Airplane
{
	// highlight-start
	std::string brand; // marka
	std::string model;
	int production_year; // rok produkcji
	// highlight-end

	int number_of_engines; // liczba silnikÃ³w
	std::string airlines_name; // nazwa linii lotniczych
};
```

ZwrÃ³Ä‡ uwagÄ™ na zaznaczone linie kodu. Po krÃ³tkiej analizie tego kodu zauwaÅ¼ymy, Å¼e obydwie struktury majÄ… wspÃ³lne cechy:

- marka
- model
- rok produkcji

W dalszej czÄ™Å›ci tej lekcji skorzystamy z dziedziczenia, by uwspÃ³lniÄ‡ te elementy.

## Struktura bazowa

WyÅ‚oniliÅ›my juÅ¼ cechy tzw. **struktury bazowej** (bÄ…dÅº klasy bazowej - o tym w przyszÅ‚oÅ›ci). Utworzymy teraz
strukturÄ™, ktÃ³ra bÄ™dzie siÄ™ skÅ‚adaÄ‡ tylko z nich:

```cpp
struct Vehicle
{
	std::string brand; // marka
	std::string model;
	int production_year; // rok produkcji
};
```

ZauwaÅ¼, Å¼e nazwaÅ‚em strukturÄ™ **`Vehicle`** (z ang. *pojazd*). Jest to struktura opisujÄ…ca generalna formÄ™ pojazdu.
Utworzenie instancji tej struktury nie ma wiÄ™kszego sensu:

```cpp
Vehicle vehicle;
```

:::caution Instancja `Vehicle`
PowyÅ¼szy zapis nie jest zabroniony. Nie spowoduje on bÅ‚Ä™du kompilacji. W przyszÅ‚oÅ›ci dowiemy siÄ™
jak zablokowaÄ‡ moÅ¼liwoÅ›Ä‡ utworzenia klasy takiego obiektu, poznajÄ…c tzw. *konstruktory prywatne*.
:::

 Zamiast tego, uÅ¼yjemy jej, tworzÄ…c struktury `Car` i `Airplane`, by **odziedziczyÅ‚y** one
jej cechy.

## Struktury pochodne

Aby skorzystaÄ‡ z mechanizmu dziedziczenia, tworzÄ…c tzw. **struktury pochodne** podajemy po dwukropku strukturÄ™ bazowÄ…,
w ten sposÃ³b:

```cpp
struct Car : Vehicle
{
	bool is_cabrio;
};

struct Airplane : Vehicle
{
	int number_of_engines; // liczba silnikÃ³w
	std::string airlines_name; // nazwa linii lotniczych
};
```

<details>
	<summary>Zobacz caÅ‚y kod</summary>
	<div>
		<CustomCodeBlock maxLines={25} resizable>
			<FullCode_DerivedStructs />
		</CustomCodeBlock>
	</div>
</details>

:::danger KolejnoÅ›Ä‡ definicji
DefinicjÄ™ struktury `Vehicle` musimy umieÅ›ciÄ‡ przed definicjami struktur pochodnych.
:::

### Wykorzystanie

<Image border center
		src="/img/tutorials/course/basic/inheritance/hierarchy-only-data-pl.png"
		alt="Schemat utworzonych klas"
		desc="Schemat utworzonych wyÅ¼ej klas"
	/>
<br/>

PowyÅ¼szy schemat pokazuje, Å¼e elementy odziedziczone ze struktury `Vehicle` rÃ³wnierz znajdujÄ…
siÄ™ w strukturze `Car` i `Airplane`.

Z tego powodu, tworzÄ…c samochÃ³d wewnÄ…trz kodu, moÅ¼emy Å›miaÅ‚o korzystaÄ‡ z pÃ³l `brand`, `model`, `production_year`,
tak jakby byÅ‚y one bezpoÅ›rednio w strukturze `Car`:

```cpp
Car ford;
ford.brand = "Ford";
ford.model = "Fiesta";
ford.production_year = 2010;
ford.is_cabrio = false;
```

Analogicznie z samolotem:

```cpp
Airplane boeing;
boeing.brand = "Boeing";
boeing.model = "737";
boeing.production_year = 2010;
boeing.number_of_engines = 2;
boeing.airlines_name = "Air Canada";
```

<details>
	<summary>Zobacz caÅ‚y kod</summary>
	<div>
		<CustomCodeBlock maxLines={25} resizable>
			<FullCode_DerivedStructsUsage />
		</CustomCodeBlock>
	</div>
</details>

### Dziedziczenie metod

Podobnie jak skÅ‚adowe zmienne, dziedziczone sÄ… teÅ¼ metody klasy bazowej. Dodajmy do `Vehicle` metodÄ™
`complete_name()`, ktÃ³ra zwrÃ³ci nam nazwÄ™ skÅ‚adajÄ…cÄ… siÄ™ z `brand` i `model`:

```cpp
struct Vehicle
{
	// ...

	// highlight-next-line
	std::string complete_name()
	{
		return brand + " " + model;
	}
};
```

NastÄ™pnie moÅ¼emy uÅ¼yÄ‡ tej metody na instancji struktury `Car`:

```cpp
Car ford;
ford.brand = "Ford";
ford.model = "Fiesta";

// highlight-next-line
std::cout << ford.complete_name(); // "Ford Fiesta"
```

<details>
	<summary>Zobacz caÅ‚y kod</summary>
	<div>
		<CustomCodeBlock maxLines={25} resizable>
			<FullCode_DerivedStructsMethods />
		</CustomCodeBlock>
	</div>
</details>