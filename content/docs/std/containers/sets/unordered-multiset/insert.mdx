---
title:					unordered_multiset<...>::insert() method
sidebar_label:			insert( )
description:			unordered_multiset<...>::insert() method C++ documentation
hide_title:				true
tags:					[insert, add, append, unordered_multiset]

cppreference_origin_rel: w/cpp/container/unordered_multiset/insert
---

import SwitchView			from "@site-comps/SwitchView";

{/* Codes */}

{/* insert() */}
import Method_SinceCpp17	from './_codes/insert/since-cpp17.mdx';
import Method_UntilCpp17	from './_codes/insert/until-cpp17.mdx';
import ImproveSection		from "@site/i18n/en/presets/ImproveSection.mdx";

import IteratorDereferenceNote_UntilCpp17 from './_codes/insert/explanation/iterator-dereference-note-until-cpp17.mdx';
import IteratorDereferenceNote_SinceCpp17 from './_codes/insert/explanation/iterator-dereference-note-since-cpp17.mdx';

# std::unordered_multiset insert() method

<SwitchView content={{
	'since-cpp17': <Method_SinceCpp17 />,
	'until-cpp17': <Method_UntilCpp17 />
}} />

Inserts element(s) into the container, if the container doesn't already contain an element with an equivalent key.

- **(1-2)** Inserts value.
- **(3-4)** Inserts value, using hint as a non-binding suggestion to where the search should start.
- **(5)** Inserts elements from range **[ first; last )**.
- **(6)** Inserts elements from initializer list `ilist`.
- **(7)** If `nh` is an empty node handle, does nothing. 
  Otherwise, inserts the element owned by `nh` into the container, if the container doesn't already contain an element with a key equivalent to `nh.key()`. 
  <span className="inline-danger">The behavior is undefined if <code>nh</code> is not empty and <code>get_allocator() != nh.get_allocator()</code>.</span>
- **(8)**
  If `nh` is an empty node handle, does nothing and returns the end iterator.
  Otherwise, inserts the element owned by `nh` into the container, if the container doesn't already contain an element with a key equivalent to `nh.key()`,
  and returns the iterator pointing to the element with key equivalent to `nh.key()` (regardless of whether the insert succeeded or failed).
  If the insertion succeeds, `nh` is moved from, otherwise it retains ownership of the element. 
  The element is inserted as close as possible to `hint`. 
  <span className="inline-danger">The behavior is undefined if <code>nh</code> is not empty and <code>get_allocator() != nh.get_allocator()</code>.</span>



<SwitchView content={{
	'since-cpp17': <IteratorDereferenceNote_SinceCpp17 />,
	'until-cpp17': <IteratorDereferenceNote_UntilCpp17 />,
}} />

### Parameters

 - `hint` - iterator, used as a suggestion as to where to insert the content
 - `value` - element value to insert
 - `first`, `last` - range of elements to insert
 - `ilist` - initializer list to insert the values from
 - `nh` - a compatible node handle

### Type requirements

 - **(5)** - `InputIt` must meet the requirements of [`LegacyInputIterator`](/docs/named_req/LegacyInputIterator).

### Return value

 - **(1-4)** Returns an iterator to the inserted element.
 - **(5-6)** **(none)**
 - **(7-8)** End iterator if `nh` was empty, iterator pointing to the inserted element otherwise.

### Complexity

- **(1-4)**  
  Average case, constant - **O(1)**.  
  Worst case, linear in the size of the container - **O(size())**.
- **(5-6)**  
  Average case, linear in the number of elements to insert - **O(N)**, where N is the number of elements to insert.  
  Worst case - **O(N*size()+N)**, where N is the number of elements to insert.
- **(7-8)**  
  Average case, constant - **O(1)**.  
  Worst case, linear in the size of the container - **O(size())**.


### Exceptions

 - **(1-4)** If an exception is thrown by any operation, the insertion has no effect.

<ImproveSection />

### Example

<ImproveSection />
